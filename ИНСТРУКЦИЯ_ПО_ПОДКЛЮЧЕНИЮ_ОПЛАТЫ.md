# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é Apple –ø–æ–¥–ø–∏—Å–æ–∫

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ RevenueCat:
- **–ú–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞**: $9.99
- **–ì–æ–¥–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞**: $79.00 (—ç–∫–æ–Ω–æ–º–∏—è $40.88)

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### –®–∞–≥ 1: App Store Connect

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –≤ https://appstoreconnect.apple.com
   - Bundle ID: `app.personalized-ai-goal-coach`

2. **–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–¥–ø–∏—Å–∫–∏** –≤ —Ä–∞–∑–¥–µ–ª–µ "Subscriptions":
   - **–ú–µ—Å—è—á–Ω–∞—è**: Product ID = `premium_monthly`, —Ü–µ–Ω–∞ = $9.99
   - **–ì–æ–¥–æ–≤–∞—è**: Product ID = `premium_yearly`, —Ü–µ–Ω–∞ = $79.00

3. **–°–æ–∑–¥–∞–π—Ç–µ In-App Purchase Key**:
   - Users and Access ‚Üí Integrations ‚Üí In-App Purchase
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ .p8 —Ñ–∞–π–ª, Key ID –∏ Issuer ID

### –®–∞–≥ 2: RevenueCat

1. **–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç** –Ω–∞ https://www.revenuecat.com

2. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç** –∏ –¥–æ–±–∞–≤—å—Ç–µ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - Bundle ID: `app.personalized-ai-goal-coach`

3. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ App Store Connect**:
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ .p8 —Ñ–∞–π–ª
   - –í–≤–µ–¥–∏—Ç–µ Key ID –∏ Issuer ID

4. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã**:
   - `premium_monthly`
   - `premium_yearly`

5. **–°–æ–∑–¥–∞–π—Ç–µ Offering** (ID: `default`):
   - –î–æ–±–∞–≤—å—Ç–µ –ø–∞–∫–µ—Ç `$rc_monthly` ‚Üí `premium_monthly`
   - –î–æ–±–∞–≤—å—Ç–µ –ø–∞–∫–µ—Ç `$rc_annual` ‚Üí `premium_yearly`

6. **–°–æ–∑–¥–∞–π—Ç–µ Entitlement** (ID: `premium`):
   - –î–æ–±–∞–≤—å—Ç–µ –æ–±–∞ –ø—Ä–æ–¥—É–∫—Ç–∞

7. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ iOS SDK key** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `appl_...`)

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –∫–æ–¥–µ

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `env` –∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á:

```bash
EXPO_PUBLIC_REVENUECAT_IOS_KEY=appl_–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å
```

**–ì–æ—Ç–æ–≤–æ!** –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ì–¥–µ –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- ‚úÖ **–§–∏–∑–∏—á–µ—Å–∫–æ–µ iOS —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ** (–ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ —á–µ—Ä–µ–∑ EAS Build)
- ‚úÖ **Web preview** (–¥–µ–º–æ-—Ä–µ–∂–∏–º —Å —Å–∏–º—É–ª—è—Ü–∏–µ–π –ø–æ–∫—É–ø–æ–∫)
- ‚ùå **Expo Go** (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç RevenueCat)
- ‚ùå **iOS Simulator** (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–∫—É–ø–∫–∏)

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:

1. **–°–æ–∑–¥–∞–π—Ç–µ Sandbox —Ç–µ—Å—Ç–µ—Ä–∞** –≤ App Store Connect:
   - Users and Access ‚Üí Sandbox
   - –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π Apple ID (–¥–µ–Ω—å–≥–∏ –Ω–µ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è!)

2. **–°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**:
   ```bash
   eas build --profile development --platform ios
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ** –∏ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å Sandbox —Ç–µ—Å—Ç–µ—Ä–æ–º

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Web:

–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ preview –≤ –±—Ä–∞—É–∑–µ—Ä–µ - —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–µ–º–æ-—Ä–µ–∂–∏–º —Å —Å–∏–º—É–ª—è—Ü–∏–µ–π –ø–æ–∫—É–ø–æ–∫.

## üìä –¢–µ–∫—É—â–∏–µ —Ü–µ–Ω—ã

- **–ú–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞**: $9.99/–º–µ—Å—è—Ü
- **–ì–æ–¥–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞**: $79.00/–≥–æ–¥ (—ç–∫–æ–Ω–æ–º–∏—è $40.88)

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ —Ö—É–∫ `useSubscription`:

```typescript
import { useSubscription } from '@/hooks/use-subscription-store';

const { isPremium } = useSubscription();
```

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

–°–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª `APPLE_SUBSCRIPTION_SETUP.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –ø–æ—à–∞–≥–æ–≤–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **Product IDs –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å** –≤–µ–∑–¥–µ:
   - App Store Connect: `premium_monthly`, `premium_yearly`
   - RevenueCat: `premium_monthly`, `premium_yearly`

2. **–î–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫** –Ω—É–∂–µ–Ω:
   - Apple Developer –∞–∫–∫–∞—É–Ω—Ç ($99/–≥–æ–¥)
   - –û–¥–æ–±—Ä–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ –≤ App Store Connect
   - –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ EAS Build

3. **–í web-–≤–µ—Ä—Å–∏–∏** —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–µ–º–æ-—Ä–µ–∂–∏–º
